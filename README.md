# 공공 API 연동 MCP 샘플

- 공공 API를 연동시켜 응답을 받는 MCP(Model Context Protocol)의 샘플 프로젝트이다.

## 사용된 공공 API 

- 한국환경공단에서 제공하는 [초미세먼지 주간예보 조회](https://www.data.go.kr/tcs/dss/selectApiDataDetailView.do?publicDataPk=15073861) 를 사용하였다. API 관련 사항은 해당 페이지의 문서를 참조하도록 한다.

- 조회 날짜로 나흘간의 지역별 미세먼지 수준과 대기질 전망을 반환하도록 되어 있다.
- 확인 가능한 지역은 `서울, 인천, 경기북부, 경기남부, 강원영서, 강원영동, 대전, 세종, 충남, 충북, 광주, 전북, 전남, 부산, 대구, 울산, 경북, 경남, 제주`이므로 질의 시 참고하도록 한다.
- api 키는 공공데이터 포털에서 신청하여 받아 `application.properties` 에 추가하여 사용하도록 한다.

## 설정 추가 (커서 기준)

- Cursor Setting 의 `mcp.json` 에 다음과 같이 추가해 준다.

```
{
  "mcpServers": {
    "weather-api": {
      "command": "java",
      "args": [
        "-Dspring.ai.mcp.server.transport=STDIO",
        "-jar",
        "jar 파일의 경로로 설정"
      ]
    }
  }
}
```

- 질의 테스트는 다음과 같이 수행하였다. 예) `2025년 6월 30일 부터의 주간 미세먼지 정보를 조회해 봐`, `7월 1일부터의 서울 미세먼지 정보를 알려 줘`

## 참고

- 코드를 수정하였으면 다음 절차를 거쳐야 한다.

1. 커서 등의 클라이언트 종료
2. `mvn clean package` 로 빌드 재수행 (만약, 프로세스 점유 중이라면 종료한다. 디폴트 포트는 9090이다.)
3. 클라이언트를 재시작해서 툴을 정상적으로 불러오나 확인
